<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…­å¹´çº§æ•°å­¦è®¡ç®—ä¸“é¡¹-ç§»åŠ¨ç«¯é€‚é…ç‰ˆ</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --paper-width: 210mm;
            --paper-height: 297mm;
        }

        body {
            margin: 0; padding: 0;
            font-family: "KaiTi", "æ¥·ä½“", serif;
            background-color: #525659;
            display: flex; height: 100vh; overflow: hidden;
        }

        /* --- å·¦ä¾§æ§åˆ¶æ  --- */
        .sidebar {
            width: 280px; background: #fff; padding: 20px;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            display: flex; flex-direction: column; gap: 10px;
            overflow-y: auto; z-index: 10;
        }
        .sidebar h2 { font-size: 18px; color: #333; border-bottom: 2px solid var(--primary-color); padding-bottom: 5px; margin: 0; }
        .btn {
            width: 100%; padding: 10px; border: none; border-radius: 4px;
            cursor: pointer; font-size: 14px; font-weight: bold; margin-bottom: 5px;
            color: white; font-family: "Microsoft YaHei", sans-serif;
        }
        .btn-primary { background: var(--primary-color); }
        .btn-warning { background: #f1c40f; color: #333; }
        .btn-success { background: #2ecc71; }

        /* --- å³ä¾§é¢„è§ˆåŒº --- */
        .preview-area {
            flex: 1; padding: 20px; overflow: auto;
            display: flex; justify-content: center;
        }

        /* --- A4 çº¸å¼  (PCé»˜è®¤) --- */
        .paper {
            width: var(--paper-width); min-height: var(--paper-height); /* æ”¹ä¸ºmin-heighté˜²æ­¢å†…å®¹æº¢å‡º */
            background: white; padding: 15mm;
            box-sizing: border-box; position: relative;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
        }

        .paper-header { text-align: center; margin-bottom: 10px; }
        .paper-title { font-size: 24px; font-weight: 900; margin-bottom: 15px; font-family: "SimHei", sans-serif; }
        .student-info {
            display: flex; justify-content: space-between; font-size: 16px;
            border-bottom: 2px solid #000; padding-bottom: 5px; font-family: "SimSun", serif;
        }
        .section-title {
            font-size: 16px; font-weight: bold; margin: 10px 0;
            background-color: #eee; padding: 4px 8px; border-left: 5px solid #333;
            font-family: "SimHei", sans-serif;
        }

        /* --- å¸ƒå±€ç½‘æ ¼ (PCé»˜è®¤) --- */
        .grid-2-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; row-gap: 15px; }
        .grid-3-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; row-gap: 20px; }
        .grid-units { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; row-gap: 15px; }
        .grid-equations { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; row-gap: 25px; }

        /* --- é¢˜ç›®å…ƒç´  --- */
        .question-item {
            display: flex; align-items: flex-start;
            font-size: 16px; padding: 5px 0;
        }
        .question-item.tall { min-height: 60px; }
        .q-index {
            width: 35px; margin-top: 4px; font-weight: bold; flex-shrink: 0;
            font-family: "Times New Roman", serif;
        }
        .q-content { flex: 1; line-height: 2; word-wrap: break-word; } /* é˜²æ­¢é•¿å…¬å¼æº¢å‡º */

        /* åˆ†æ•°ä¸ç¬¦å· */
        .fraction {
            display: inline-block; vertical-align: middle; text-align: center;
            margin: 0 3px; font-family: "Times New Roman", serif;
        }
        .fraction > span { display: block; padding: 0 3px; line-height: 1; }
        .fraction .top { border-bottom: 1px solid #000; }
        .fraction .bottom { padding-top: 1px; }
        .operator { margin: 0 4px; vertical-align: middle; font-family: "Times New Roman", serif; }

        .answer-key { color: red; font-weight: bold; display: none; margin-left: 10px; }
        .show-answer .answer-key { display: inline; }

        /* ========================================= */
        /* ç§»åŠ¨ç«¯é€‚é… (Media Queries)      */
        /* ========================================= */
        @media screen and (max-width: 768px) {
            body {
                flex-direction: column; /* ä¸Šä¸‹å¸ƒå±€ */
                height: auto; /* å…è®¸æ»šåŠ¨ */
                overflow-y: auto;
            }

            .sidebar {
                width: 100%; /* å®½åº¦å æ»¡ */
                box-sizing: border-box;
                height: auto; /* é«˜åº¦è‡ªé€‚åº” */
                padding: 15px;
                flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
                border-bottom: 1px solid #ddd;
            }
            
            /* è°ƒæ•´æŒ‰é’®å¸ƒå±€ï¼Œæ¯è¡Œ2ä¸ª */
            .sidebar .btn {
                display: inline-block;
                width: 48%;
                margin-right: 2%;
                margin-bottom: 10px;
            }
            .sidebar .btn:last-child { margin-right: 0; }

            .preview-area {
                padding: 10px;
                display: block; /* å–æ¶ˆflexå±…ä¸­ï¼Œè®©çº¸å¼ è‡ªç„¶æµå¼ */
            }

            .paper {
                width: 100%; /* çº¸å¼ å æ»¡å±å¹• */
                height: auto; /* é«˜åº¦è‡ªé€‚åº” */
                padding: 10px; /* å‡å°å†…è¾¹è· */
                box-shadow: none; /* ç§»åŠ¨ç«¯å»æ‰é˜´å½±æ˜¾å¾—æ›´å¹²å‡€ */
            }

            .paper-title { font-size: 20px; } /* æ ‡é¢˜ç¨å¾®è°ƒå° */
            
            .student-info {
                flex-wrap: wrap; /* ä¿¡æ¯æ æ¢è¡Œ */
                gap: 10px;
            }
            .student-info span { width: 45%; } /* ä¸¤åˆ—æ’å¸ƒ */

            /* --- ç½‘æ ¼é™ç»´ (å…³é”®ä¿®æ”¹) --- */
            /* å£ç®—é¢˜ï¼š4åˆ— -> 2åˆ— */
            .grid-2-4 { grid-template-columns: 1fr 1fr; gap: 5px; }
            
            /* è„±å¼è®¡ç®—ï¼š2åˆ— -> 1åˆ— (é˜²æ­¢å¤ªæŒ¤) */
            .grid-3-2 { grid-template-columns: 1fr; gap: 15px; }
            
            /* å•ä½æ¢ç®—ï¼š2åˆ— -> 1åˆ— */
            .grid-units { grid-template-columns: 1fr; gap: 10px; }
            
            /* è§£æ–¹ç¨‹ï¼š2åˆ— -> 1åˆ— */
            .grid-equations { grid-template-columns: 1fr; gap: 15px; }
            
            /* å¢åŠ ä¸€ç‚¹å­—å·åˆ©äºç‚¹å‡» */
            .question-item { font-size: 17px; }
        }

        /* ========================================= */
        /* æ‰“å°æ ·å¼ (ä¿æŒA4)           */
        /* ========================================= */
        @media print {
            .sidebar { display: none; }
            .preview-area { padding: 0; background: white; display: block; }
            .paper { width: 100%; max-width: 100%; height: auto; box-shadow: none; padding: 0 10mm; margin: 0; }
            body { height: auto; overflow: visible; background: white; }
            @page { size: A4; margin: 10mm; }
            
            /* æ‰“å°æ—¶å¼ºåˆ¶æ¢å¤å¤šåˆ—å¸ƒå±€ï¼Œå³ä½¿æ˜¯åœ¨æ‰‹æœºä¸Šç‚¹å‡»æ‰“å° */
            .grid-2-4 { grid-template-columns: repeat(4, 1fr); }
            .grid-3-2 { grid-template-columns: 1fr 1fr; }
            .grid-units { grid-template-columns: 1fr 1fr; }
            .grid-equations { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>

<div class="sidebar">
    <h2>å‡ºé¢˜è®¾ç½®</h2>
    <div style="margin-bottom:15px; display:flex; flex-wrap:wrap; gap:10px;">
        <label><input type="checkbox" id="chk-mul" checked> åˆ†æ•°ä¹˜æ³•</label>
        <label><input type="checkbox" id="chk-div" checked> åˆ†æ•°é™¤æ³•</label>
        <label><input type="checkbox" id="chk-per" checked> ç™¾åˆ†æ•°</label>
    </div>
    <div style="margin-bottom:15px">
        <label style="margin-right:15px"><input type="radio" name="difficulty" value="basic" checked> åŸºç¡€æ¨¡å¼</label>
        <label><input type="radio" name="difficulty" value="advanced"> æé«˜æ¨¡å¼</label>
    </div>
    <div style="width:100%">
        <button class="btn btn-primary" onclick="generatePaper()">ğŸ”„ åˆ·æ–°é¢˜ç›®</button>
        <button class="btn btn-warning" onclick="toggleAnswers()">ğŸ‘ï¸ æ˜¾ç¤ºç­”æ¡ˆ</button>
        <button class="btn btn-success" onclick="window.print()">ğŸ“„ æ‰“å° / ä¸‹è½½</button>
    </div>
</div>

<div class="preview-area">
    <div class="paper" id="paper-content">
        <div class="paper-header">
            <div class="paper-title">å…­å¹´çº§ä¸Šå†Œæ•°å­¦è®¡ç®—ä¸“é¡¹ç»ƒä¹ </div>
            <div class="student-info">
                <span>ç­çº§ï¼š__________</span>
                <span>å§“åï¼š__________</span>
                <span>å­¦å·ï¼š__________</span>
                <span>å¾—åˆ†ï¼š__________</span>
            </div>
        </div>

        <div class="section-title">ä¸€ã€ç›´æ¥å†™å‡ºå¾—æ•° (æ¯é¢˜1åˆ†ï¼Œå…±8åˆ†)</div>
        <div class="grid-2-4" id="section-1"></div>

        <div class="section-title">äºŒã€è„±å¼è®¡ç®—ï¼Œèƒ½ç®€ç®—çš„è¦ç®€ç®— (æ¯é¢˜4åˆ†ï¼Œå…±24åˆ†)</div>
        <div class="grid-3-2" id="section-2"></div>

        <div class="section-title">ä¸‰ã€å•ä½æ¢ç®— (æ¯é¢˜2åˆ†ï¼Œå…±10åˆ†)</div>
        <div class="grid-units" id="section-3"></div>

        <div class="section-title">å››ã€è§£æ–¹ç¨‹ (æ¯é¢˜4åˆ†ï¼Œå…±24åˆ†)</div>
        <div class="grid-equations" id="section-4"></div>
    </div>
</div>

<script>
    // --- æ•°å­¦å·¥å…· ---
    function gcd(a, b) { return b === 0 ? a : gcd(b, a % b); }
    function randInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }

    class Fraction {
        constructor(n, d) {
            if (d < 0) { n = -n; d = -d; }
            let common = gcd(Math.abs(n), Math.abs(d));
            this.n = n / common;
            this.d = d / common;
        }
        add(f) { return new Fraction(this.n * f.d + f.n * this.d, this.d * f.d); }
        sub(f) { return new Fraction(this.n * f.d - f.n * this.d, this.d * f.d); }
        mul(f) { return new Fraction(this.n * f.n, this.d * f.d); }
        div(f) { return new Fraction(this.n * f.d, this.d * f.n); }
        isInteger() { return this.d === 1; }
        toHTML() {
            if (this.d === 1) return `<span>${this.n}</span>`;
            return `<div class="fraction"><span class="top">${this.n}</span><span class="bottom">${this.d}</span></div>`;
        }
        getValue() { return this.n / this.d; }
    }

    function op(symbol) { return `<span class="operator">${symbol}</span>`; }
    function createItem(index, contentHtml, answer, isTall = false, showEquals = false) {
        let suffix = showEquals ? op('=') : ''; 
        let answerPrefix = '';
        if (!showEquals && isTall) answerPrefix = '= '; 
        return `<div class="question-item ${isTall ? 'tall' : ''}">
                    <div class="q-index">(${index})</div>
                    <div class="q-content">
                        ${contentHtml} ${suffix} <span class="answer-key">${answerPrefix}${answer}</span>
                    </div>
                </div>`;
    }

    function getStrictFraction() {
        let f, attempt = 0;
        do {
            f = new Fraction(randInt(1, 9), randInt(2, 9));
            attempt++;
        } while (f.isInteger() && attempt < 50);
        return f;
    }

    const commonFracs = [
        {v:0.5, f:new Fraction(1,2), p:"50%"}, {v:0.25, f:new Fraction(1,4), p:"25%"},
        {v:0.75, f:new Fraction(3,4), p:"75%"}, {v:0.2, f:new Fraction(1,5), p:"20%"},
        {v:0.4, f:new Fraction(2,5), p:"40%"}, {v:0.6, f:new Fraction(3,5), p:"60%"},
        {v:0.8, f:new Fraction(4,5), p:"80%"}, {v:0.125, f:new Fraction(1,8), p:"12.5%"},
        {v:0.375, f:new Fraction(3,8), p:"37.5%"}, {v:0.625, f:new Fraction(5,8), p:"62.5%"},
        {v:0.875, f:new Fraction(7,8), p:"87.5%"}
    ];

    // --- 1. å£ç®— ---
    function genSec1(settings) {
        let html = '';
        for(let i=1; i<=8; i++) {
            let type = randInt(1, 3);
            if (!settings.per && type === 3) type = 1;
            let f1, f2, q, a, safeGuard = 0;
            do {
                f1 = getStrictFraction(); f2 = getStrictFraction(); safeGuard++;
            } while (safeGuard < 20 && (f1.isInteger() || f2.isInteger()));

            if (type === 1) { 
                let symbol = Math.random()>0.5 ? '+' : '-';
                if(symbol==='-' && f1.getValue()<f2.getValue()) [f1,f2]=[f2,f1];
                q = `${f1.toHTML()} ${op(symbol)} ${f2.toHTML()}`;
                a = symbol==='+' ? f1.add(f2).toHTML() : f1.sub(f2).toHTML();
            } else if (type === 2) { 
                let symbol = (Math.random()>0.5 && settings.div) ? 'Ã·' : 'Ã—';
                q = `${f1.toHTML()} ${op(symbol)} ${f2.toHTML()}`;
                a = symbol==='Ã—' ? f1.mul(f2).toHTML() : f1.div(f2).toHTML();
            } else { 
                let cf = commonFracs[randInt(0, commonFracs.length-1)];
                let n = randInt(2, 10);
                q = `${n} ${op('Ã—')} ${cf.p}`;
                a = parseFloat((n * cf.v).toFixed(3));
            }
            html += createItem(i, q, a, false, true);
        }
        document.getElementById('section-1').innerHTML = html;
    }

    // --- 2. ç®€ä¾¿è®¡ç®— ---
    function genSec2(settings) {
        let html = '';
        let isAdv = settings.diff === 'advanced';
        const tasks = [
            ()=>{ // è¿ä¹˜
                let f1, f2, f3, attempt=0;
                do {
                    f1 = getStrictFraction(); f2 = getStrictFraction();
                    f3 = new Fraction(f2.d, f1.n); attempt++;
                } while ((f3.isInteger() || f3.getValue()===1) && attempt < 20);
                if(f3.isInteger()) f3 = getStrictFraction();
                return { q: `${f1.toHTML()} ${op('Ã—')} ${f2.toHTML()} ${op('Ã—')} ${f3.toHTML()}`, a: f1.mul(f2).mul(f3).toHTML() };
            },
            ()=>{ // åˆ†é…å¾‹
                let c = getStrictFraction();
                let base = randInt(5, 20), n1 = randInt(1, base-1), n2 = base - n1;
                let p1 = new Fraction(n1, base), p2 = new Fraction(n2, base);
                let q = `${p1.toHTML()} ${op('Ã—')} ${c.toHTML()} ${op('+')} ${p2.toHTML()} ${op('Ã—')} ${c.toHTML()}`;
                if(isAdv) { q += ` ${op('-')} ${c.toHTML()}`; return {q:q, a:0}; }
                return {q:q, a:c.toHTML()};
            },
            ()=>{ // æ‹¬å·
                let d=randInt(6,12), m=d*randInt(1,3);
                let f1 = new Fraction(randInt(1,Math.floor(d/2)), d);
                let f2 = new Fraction(randInt(1,Math.floor(d/2)), d);
                let q = `(${f1.toHTML()} ${op('+')} ${f2.toHTML()}) ${op('Ã—')} ${m}`;
                return {q:q, a: parseFloat(((f1.getValue()+f2.getValue())*m).toFixed(2))};
            },
            ()=>{ // æå…¬å› æ•°
                let f = getStrictFraction(), sum = f.d * randInt(1, 5);
                let a = randInt(2, sum-1), b = sum - a;
                let q = `${a} ${op('Ã—')} ${f.toHTML()} ${op('+')} ${b} ${op('Ã—')} ${f.toHTML()}`;
                return {q:q, a: sum * f.getValue()};
            },
            ()=>{ // äº’åŒ–
                let cf = commonFracs[randInt(0, commonFracs.length-1)];
                let q = `${cf.f.toHTML()} ${op('Ã—')} 3.5 ${op('+')} ${settings.per?cf.p:cf.v} ${op('Ã—')} 6.5`;
                return {q:q, a: cf.v * 10};
            },
            ()=>{ // å…¸å‹åˆ†é…å¾‹
                let c = getStrictFraction(), den = randInt(5,15), n1 = randInt(1,den-1);
                let f1 = new Fraction(n1,den), f2 = new Fraction(den-n1,den);
                let q = `${c.toHTML()} ${op('Ã—')} ${f1.toHTML()} ${op('+')} ${f2.toHTML()} ${op('Ã—')} ${c.toHTML()}`;
                return {q:q, a: c.toHTML()};
            }
        ];
        tasks.forEach((t,i) => { let r=t(); html += createItem(i+1, r.q, r.a, true, false); });
        document.getElementById('section-2').innerHTML = html;
    }

    // --- 3. å•ä½æ¢ç®— ---
    const unitDB = {
        len: { name:"é•¿åº¦", u:[{n:"åƒç±³",v:1e6},{n:"ç±³",v:1000},{n:"åˆ†ç±³",v:100},{n:"å˜ç±³",v:10},{n:"æ¯«ç±³",v:1}] },
        wt: { name:"é‡é‡", u:[{n:"å¨",v:1e6},{n:"åƒå…‹",v:1000},{n:"å…‹",v:1}] },
        area: { name:"é¢ç§¯", u:[{n:"å…¬é¡·",v:1e8},{n:"å¹³æ–¹ç±³",v:10000},{n:"å¹³æ–¹åˆ†ç±³",v:100},{n:"å¹³æ–¹å˜ç±³",v:1}] },
        vol: { name:"ä½“ç§¯", u:[{n:"ç«‹æ–¹ç±³",v:1e6},{n:"ç«‹æ–¹åˆ†ç±³",v:1000},{n:"ç«‹æ–¹å˜ç±³",v:1}] },
        cap: { name:"å®¹ç§¯", u:[{n:"ç«‹æ–¹ç±³",v:1e6},{n:"å‡",v:1000},{n:"æ¯«å‡",v:1}] }
    };
    function genSec3() {
        let html = '';
        let types = Object.keys(unitDB);
        for(let i=1; i<=5; i++) {
            let type = unitDB[types[randInt(0, types.length-1)]];
            let u1 = type.u[randInt(0, type.u.length-1)];
            let u2 = type.u[randInt(0, type.u.length-1)];
            while(u1===u2) u2 = type.u[randInt(0, type.u.length-1)];
            let rate = u1.v / u2.v;
            let val, ans;
            if(rate > 1) { val = randInt(1, 50) / 10; ans = parseFloat((val * rate).toFixed(4)); }
            else { ans = randInt(1, 50) / 10; val = parseFloat((ans / rate).toFixed(4)); }
            html += createItem(i, `${val} ${u1.n} = ( &nbsp;&nbsp; ) ${u2.n}`, ans, false, false);
        }
        document.getElementById('section-3').innerHTML = html;
    }

    // --- 4. è§£æ–¹ç¨‹ (å…¨æ–°å…­ç§æ¨¡å‹) ---
    function genSec4(settings) {
        let html = '';
        const types = [
            // 1. åŒç±»é¡¹åˆå¹¶ (x - 40%x = 120)
            () => {
                let x = randInt(5, 50) * 10; 
                let per = randInt(1, 9) * 10; 
                let type = Math.random() > 0.5 ? 'sub' : 'add';
                let factor = type === 'sub' ? (100 - per)/100 : (100 + per)/100;
                let res = Math.round(x * factor);
                let q = type === 'sub' ? `x ${op('-')} ${per}%x = ${res}` : `x ${op('+')} ${per}%x = ${res}`;
                return {q: q, a: `x=${x}`};
            },
            // 2. è§£æ¯”ä¾‹
            () => {
                let x_ans, q;
                let k = randInt(2, 8);
                x_ans = randInt(2, 10) * k;
                let ratio = randInt(2, 5); 
                let d2 = randInt(1, 9)/10 + randInt(1,5);
                let d1 = parseFloat((d2 * ratio).toFixed(1)); 
                let d3 = randInt(2, 9);
                x_ans = parseFloat((d3 * ratio).toFixed(1));
                q = `x ${op(':')} ${d3} = ${d1} ${op(':')} ${d2}`;
                return {q: q, a: `x=${x_ans}`};
            },
            // 3. å»æ‹¬å·
            () => {
                let x = randInt(2, 15);
                let a = randInt(2, 6); 
                let b = randInt(1, 10); 
                let lhs_val = a * (x + b);
                let c = randInt(1, a - 1); 
                let d = lhs_val - c * x;
                let q = `${a}(x ${op('+')} ${b}) = ${c}x ${op('+')} ${d}`;
                return {q: q, a: `x=${x}`};
            },
            // 4. å»åˆ†æ¯
            () => {
                let x = randInt(1, 10) * 6; 
                let d1 = 2, d2 = 3; 
                if(Math.random()>0.5) { d1=3; d2=4; x=12*randInt(1,3); }
                else if(Math.random()>0.5) { d1=2; d2=5; x=10*randInt(1,3); }
                let b = randInt(1, 5);
                let k_int = randInt(1, 3);
                x = 6*k_int + 2*b; // ç®€åŒ–é€»è¾‘ä¿è¯æ•´æ•°è§£
                let q = `<div class="fraction"><span class="top">x</span><span class="bottom">${d1}</span></div> ${op('-')} <div class="fraction"><span class="top">x+${b}</span><span class="bottom">${d2}</span></div> = ${k_int}`;
                return {q: q, a: `x=${x}`};
            },
            // 5. ä¸‰æ•°æ··åˆ
            () => {
                let x = randInt(1, 20); 
                let cf = commonFracs[randInt(0, 3)]; 
                let dec = randInt(1, 9) / 10; 
                let sum = cf.f.getValue() + dec; 
                let c = sum * x;
                let c_display = parseFloat(c.toFixed(4));
                let q = `${cf.f.toHTML()}x ${op('+')} ${dec}x = ${c_display}`;
                return {q: q, a: `x=${x}`};
            },
            // 6. å…ˆç®—åè§£
            () => {
                let x = randInt(2, 10);
                let m = randInt(2, 5); 
                let n1 = randInt(2, 9);
                let n2 = randInt(11, 99)/10; 
                let prod = parseFloat((n1 * n2).toFixed(2));
                let res = parseFloat((prod - m * x).toFixed(2));
                if (res < 0) {
                   res = parseFloat((m*x - prod).toFixed(2));
                   let q = `${m}x ${op('-')} ${n1} ${op('Ã—')} ${n2} = ${res}`;
                   return {q: q, a: `x=${x}`};
                }
                let q = `${n1} ${op('Ã—')} ${n2} ${op('-')} ${m}x = ${res}`;
                return {q: q, a: `x=${x}`};
            }
        ];

        types.forEach((t, i) => {
            let r = t();
            html += createItem(i+1, r.q, r.a, false, false);
        });
        document.getElementById('section-4').innerHTML = html;
    }

    function generatePaper() {
        let s = {
            mul: document.getElementById('chk-mul').checked,
            div: document.getElementById('chk-div').checked,
            per: document.getElementById('chk-per').checked,
            diff: document.querySelector('input[name="difficulty"]:checked').value
        };
        genSec1(s); genSec2(s); genSec3(); genSec4(s);
    }
    
    function toggleAnswers() {
        document.getElementById('paper-content').classList.toggle('show-answer');
    }

    window.onload = generatePaper;
</script>
</body>
</html>
